{% extends 'index.html' %}

{% block title %}Change Password - EcoSync{% endblock %}

{% block content %}
<div class="min-h-screen">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16">
        
        <div class="max-w-lg mx-auto bg-eco-light-accent p-8 rounded-xl shadow-lg border border-gray-200">
            <h1 class="text-2xl md:text-3xl font-bold mb-6 text-eco-dark-green text-center">Change Your Password</h1>

            <form method="POST" class="space-y-6">
                {% csrf_token %}
                
                {% if form.non_field_errors %}
                  <div class="text-red-700 text-sm p-3 bg-red-100 border border-red-300 rounded-lg">
                    {{ form.non_field_errors }}
                  </div>
                {% endif %}

                <div>
                    <label for="{{ form.old_password.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.old_password.label }}</label>
                    {{ form.old_password }}
                    <p class="text-red-600 text-sm mt-1">{{ form.old_password.errors.as_text }}</p>
                </div>
                <div>
                    <label for="{{ form.new_password1.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.new_password1.label }}</label>
                    {{ form.new_password1 }}
                    <p class="text-red-600 text-sm mt-1">{{ form.new_password1.errors.as_text }}</p>
                </div>
                <div>
                    <label for="{{ form.new_password2.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.new_password2.label }}</label>
                    {{ form.new_password2 }}
                    <p class="text-red-600 text-sm mt-1">{{ form.new_password2.errors.as_text }}</p>
                </div>
                
                <div class="flex gap-4">
                    <a href="{% url 'dashboard' %}" class="w-full text-center bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-4 rounded-lg transition">
                        Cancel
                    </a>
                    <button type="submit" class="w-full bg-eco-medium-green hover:bg-eco-olive text-white font-bold py-3 px-4 rounded-lg transition-transform transform hover:scale-105">
                        Change Password
                    </button>
                </div>
            </form>
        </div>

    </div>
</div>
{% endblock %}